<?xml version="1.0" encoding="utf-8"?>
<project name="zumo" basedir="." default="build">


	<!-- Import generic properties -->
	<property file="${basedir}/builder/build.properties"/>


	<!-- CLEAN -->
	<target name="clean" description="Remove folders generated by the build">
		<echo>[clean] Removing build folders...</echo>
		<delete dir="${output.dir}" quiet="true" includeEmptyDirs="true"/>
		<echo>[clean] Build folders removed</echo>
	</target>


	<!-- COMPRESS-->
	<target name="compress" description="Minify">

		<echo>[compress] Compressing...</echo>

		<java jar="${yuicompressor.path}" dir="." fork="true" failonerror="true">
			<arg value="-v"/>
			<arg value="-o"/>
			<arg value="${output.dir}/${output.file.min}"/>
			<arg value="${src.dir}/${input.file}"/>
		</java>

		<echo>[compress] Compressed</echo>

	</target>


	<!-- BUILD -->
	<target name="build" description="Build and copy to output directory" depends="clean">

		<echo>[build] Building ${project.name}...</echo>

		<mkdir dir="${output.dir}"/>

		<copy file="${src.dir}/${input.file}" tofile="${output.dir}/${output.file}"/>

		<echo>[build] ${project.name} built</echo>

	</target>


    <!-- RELEASE -->
    <target name="release" description="Build and compress" depends="build, compress"/>

</project>